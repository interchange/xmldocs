<?xml version="1.0" standalone="no"?>

<!DOCTYPE article PUBLIC "-//OASIS//DTD DocBook-Interchange XML V4.2//EN"
	"../docbook/docbookxi.dtd">

<article id='search'>

<articleinfo>
	<title>Interchange Guides: Search Tutorial</title>
	<titleabbrev>search</titleabbrev>

	<copyright>
		<year>2005</year>
		<year>2006</year>
		<holder>Interchange Development Group</holder>
	</copyright>

	<authorgroup>
		<author>
			<firstname>Stefan</firstname><surname>Hornburg</surname>
			<email>racke@linuxia.de</email>
		</author>
	</authorgroup>


	<legalnotice>
		<para>
		This documentation is free; you can redistribute it and/or modify
		it under the terms of the &GNU; General Public License as published by
		the Free Software Foundation; either version 2 of the License, or
		(at your option) any later version.
		</para>
		<para>
		It is distributed in the hope that it will be useful,
		but WITHOUT ANY WARRANTY; without even the implied warranty of
		MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
		GNU General Public License for more details.
		</para>
	</legalnotice>

	<abstract>
		<para>
		The purpose of this document is to describe the search "subsystem" in
		&IC; and link together all search-related topics.
		</para>
	</abstract>

</articleinfo>


<section>
	<title>Searching using Swish-e</title>
	<!-- TODO : move to HOWTO -->
	<para>
	The Swish search module allows you to search index files generated
	by &SWISH-E;.
	</para>

	<section>
	  <title>Swish-e Integration</title>
	  <para>
	To enable any Swish searching, modify your &gcf; to add:
<programlisting>
Require module Vend::Swish
AddDirective Swish hash
Variable swish Vend::Swish
</programlisting>
	</para>

	<para>
	To configure your catalog to use Swish, modify the appropriate &ccf; and add:
<programlisting>
Swish command /usr/bin/swish-e
Swish index products/swish-e.db
</programlisting>
	</para>
	</section>

	<section>
	  <title>Setup Searches</title>
	  </section>
	
	<para>
	Finally, in search parameters, use <literal>mv_searchtype=swish</literal> or
	the shorthand notation <literal>st=swish</literal>.
	</para>


	<para>
	The fields to be returned from Swish to &IC; are configurable, and default to:

<programlisting>
mv_return_fields=code score title url mod_date filesize
mv_field_names=code score title url mod_date filesize
</programlisting>

	These correspond to:
<programlisting>
  code      swishreccount
  score     swishrank
  url       swishdocpath
  title     swishtitle
  filesize  swishdocsize
  mod_date  swishlastmodified
</programlisting>
	</para>
<para>The date in the <literal>mod_date</literal> field is returned in the
format <literal>%Y-%m-%d %H:%M:%S</literal>.
<para>You can change that with the <literal>date_format</literal> option:
</para>
<programlisting>
Swish date_format "%d %b %Y"
</programlisting>
See &glos-time; for possible format strings.
</para>
<section>
<title>Commandline Examples</title>
<para>
Simple search for the term Swish:
<programlisting>
swish-e -w Swish
</programlisting>
Same search with specifying the index file:
<programlisting>
swish-e -w Swish -f db/mailinglists
</programlisting>
</para>
</section>
</section>


<section>
	<title>Search Reference</title>

	<itemizedlist>
		<listitem><para>mv_all_chars</para>
		</listitem>
		<listitem><para>mv_base_directory</para>
		</listitem>
		<listitem><para>mv_begin_string</para>
		</listitem>
		<listitem><para>mv_cache_key</para>
		</listitem>
		<listitem><para>mv_coordinate</para>
		</listitem>
		<listitem><para>mv_case</para>
		</listitem>
		<listitem><para>mv_verbatim_columns</para>
		</listitem>
		<listitem><para>mv_dict_end</para>
		</listitem>
		<listitem><para>mv_dict_fold</para>
		</listitem>
		<listitem><para>mv_dict_limit</para>
		</listitem>
		<listitem><para>mv_dict_look</para>
		</listitem>
		<listitem><para>mv_raw_dict_look</para>
		</listitem>
		<listitem><para>mv_dict_order</para>
		</listitem>
		<listitem><para>mv_record_delim</para>
		</listitem>
		<listitem><para>mv_exact_match</para>
		</listitem>
		<listitem><para>mv_spelling_errors</para>
		</listitem>
		<listitem><para>mv_field_file</para>
		</listitem>
		<listitem><para>mv_search_file</para>
		</listitem>
		<listitem><para>mv_field_title</para>
		</listitem>
		<listitem><para>mv_first_match</para>
		</listitem>
		<listitem><para>mv_field_names</para>
		</listitem>
		<listitem><para>mv_head_skip</para>
		</listitem>
		<listitem><para>mv_index_delim</para>
		</listitem>
		<listitem><para>mv_search_label</para>
		</listitem>
		<listitem><para>mv_like_field</para>
		</listitem>
		<listitem><para>mv_list_only</para>
		</listitem>
		<listitem><para>mv_search_line_return</para>
		</listitem>
		<listitem><para>mv_like_spec</para>
		</listitem>
		<listitem><para>mv_more_alpha</para>
		</listitem>
		<listitem><para>mv_more_alpha_chars</para>
		</listitem>
		<listitem><para>mv_more_decade</para>
		</listitem>
		<listitem><para>mv_more_id</para>
		</listitem>
		<listitem><para>mv_matchlimit</para>
		</listitem>
		<listitem><para>mv_max_matches</para>
		</listitem>
		<listitem><para>mv_more_matches</para>
		</listitem>
		<listitem><para>mv_profile</para>
		</listitem>
		<listitem><para>mv_min_string</para>
		</listitem>
		<listitem><para>mv_negate</para>
		</listitem>
		<listitem><para>mv_negate</para>
		</listitem>
		<listitem><para>mv_no_hide</para>
		</listitem>
		<listitem><para>mv_no_more</para>
		</listitem>
		<listitem><para>mv_nextpage</para>
		</listitem>
		<listitem><para>mv_next_search</para>
		</listitem>
		<listitem><para>mv_numeric</para>
		</listitem>
		<listitem><para>mv_column_op</para>
		</listitem>
		<listitem><para>mv_orsearch</para>
		</listitem>
		<listitem><para>prefix</para>
		</listitem>
		<listitem><para>mv_more_permanent</para>
		</listitem>
		<listitem><para>mv_return_all</para>
		</listitem>
		<listitem><para>mv_return_delim</para>
		</listitem>
		<listitem><para>mv_search_reference</para>
		</listitem>
		<listitem><para>mv_return_fields</para>
		</listitem>
		<listitem><para>mv_range_alpha</para>
		</listitem>
		<listitem><para>mv_range_look</para>
		</listitem>
		<listitem><para>mv_range_min</para>
		</listitem>
		<listitem><para>mv_return_file_name</para>
		</listitem>
		<listitem><para>mv_return_reference</para>
		</listitem>
		<listitem><para>mv_return_spec</para>
		</listitem>
		<listitem><para>mv_range_max</para>
		</listitem>
		<listitem><para>mv_small_data</para>
		</listitem>
		<listitem><para>mv_searchspec</para>
		</listitem>
		<listitem><para>mv_search_field</para>
		</listitem>
		<listitem><para>mv_search_group</para>
		</listitem>
		<listitem><para>mv_search_immediate</para>
		</listitem>
		<listitem><para>mv_start_match</para>
		</listitem>
		<listitem><para>mv_search_page</para>
		</listitem>
		<listitem><para>mv_sql_query</para>
		</listitem>
		<listitem><para>mv_search_relate</para>
		</listitem>
		<listitem><para>mv_searchtype</para>
		</listitem>
		<listitem><para>mv_substring_match</para>
		</listitem>
		<listitem><para>mv_sort_field</para>
		</listitem>
		<listitem><para>mv_sort_option</para>
		</listitem>
		<listitem><para>mv_unique</para>
		</listitem>
		<listitem><para>mv_value</para>
		</listitem>
	</itemizedlist>
</section>

</article>
