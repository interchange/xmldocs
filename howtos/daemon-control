Control Interchange Daemon Process

Knowing how to manage the Interchange daemon is one of the very basic
administration tasks.
</para>

<note><para>
Since Interchange does not generally like being run with admin privileges
(user root), you will most probably have to invoke the commands listed
below under the Interchange username. To do so, you will either log in as
Interchange user, or as sufficiently-privileged user invoke
<userinput>su -c '<replaceable>COMMAND</replaceable>' <replaceable>INTERCHANGE_USER</replaceable></userinput>, or 
<userinput>sudo -u <replaceable>INTERCHANGE_USER</replaceable> <replaceable>COMMAND</replaceable></userinput>.
</para></note>

<para>
You can test the configuration without interrupting the running processes
by invoking:
<itemizedlist>
	<listitem><para>
		<userinput>/usr/sbin/interchange -test</userinput>
	</para></listitem>
</itemizedlist>
</para><para>
Interchange is (re)started by invoking:
</para>
<itemizedlist>
	<listitem vendor='deb'><para>
		<userinput>/etc/init.d/interchange restart</userinput> (Debian GNU)
	</para></listitem>
	<listitem vendor='rh'><para>
		<userinput>/etc/rc.d/init.d/interchange restart</userinput> (Red Hat)
	</para></listitem>
	<listitem vendor='tarball'><para>
		<userinput>/usr/local/interchange/bin/interchange -r</userinput>
		(tarball)
	</para></listitem>
</itemizedlist>
<para>
Specific catalogs are reconfigured by invoking:
</para>
<itemizedlist>
	<listitem vendor='deb;rh'><para>
		<userinput>/usr/sbin/interchange -reconfig
		<replaceable>CATNAME</replaceable></userinput> 
		(Debian GNU and Red Hat)
	</para></listitem>
	<listitem><para>
		<userinput>/usr/local/interchange/bin/interchange -reconfig
		<replaceable>CATNAME</replaceable></userinput> (tarball)
	</para></listitem>
	<listitem><para>
		Using the &tag-reconfig; tag from an &IC; page
	</para></listitem>
	<listitem><para>
		Touching a file named after the target catalog within the 
		<filename class='directory'>etc/reconfig/</filename> directory in
		&glos-ICROOT;.
	</para></listitem>
</itemizedlist>
<para>
&IC; is stopped by running:
</para>
<itemizedlist>
	<listitem vendor='deb;rh'><para>
		<userinput>/usr/sbin/interchange -stop</userinput> 
		(Debian GNU and Red Hat)
	</para></listitem>
	<listitem><para>
		<userinput>/usr/local/interchange/bin/interchange -stop</userinput>
		(tarball)
	</para></listitem>
</itemizedlist>
<note>
<para>
Because processes that are waiting for selection can block signals on some
operating systems, it is possible that you have to wait for &conf-HouseKeeping;
seconds before the server really closes down. To terminate the server with
prejudice (in the event it will not stop), use
<command>interchange -kill</command>.
</para>
</note>
<para>

<!-- TODO mention kill, pkill, killall, pidfile -->
<!-- 
\NOTE: You can adjust time globally for an Interchange installation by
setting the $ENV{TZ} variable on many systems. Set TZ in your environment
and then restart Interchange:

>        ## bash/ksh/sh
>        TZ=PST7PDT; export TZ
>        interchange -restart
>
>        ## csh/tcsh
>        setenv TZ PST7PDT
>        interchange -restart

On most modern UNIX systems, all times will now be in the PST zone.
-->

